<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sequence Finder</title>

<style>
/* ğŸŒˆ Animated Background */
body {
  font-family: "Segoe UI", Arial, sans-serif;
  color: white;
  text-align: center;
  min-height: 100vh;
  margin: 0;

  background: linear-gradient(
    -45deg,
    #0f2027,
    #203a43,
    #2c5364,
    #1e3c72,
    #2a5298
  );
  background-size: 400% 400%;
  animation: gradientBG 14s ease infinite;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

h1 {
  margin-top: 20px;
}

/* ğŸ§Š Glass Board */
#game {
  display: grid;
  grid-template-columns: repeat(3, 90px);
  gap: 15px;
  justify-content: center;
  margin: 25px auto;
  padding: 25px;

  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  backdrop-filter: blur(12px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.4);
}

/* ğŸƒ Cards */
.card {
  width: 90px;
  height: 90px;
  background: linear-gradient(145deg, #334155, #1e293b);
  font-size: 30px;
  border-radius: 16px;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.card:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 0 10px 25px rgba(0,0,0,0.4);
}

.card.open {
  background: linear-gradient(145deg, #22c55e, #16a34a);
}

.card.wrong {
  background: linear-gradient(145deg, #ef4444, #b91c1c);
}

/* âŒ Shake animation */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-6px); }
  100% { transform: translateX(0); }
}

.shake {
  animation: shake 0.4s;
}

/* ğŸ¯ Info bar */
#info {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 10px;
  font-size: 15px;
}

/* ğŸ‰ Overlay */
#overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);

  align-items: center;
  justify-content: center;
}

#resultBox {
  background: rgba(255,255,255,0.15);
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.5);
}

button {
  padding: 10px 22px;
  margin-top: 15px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
</style>
</head>

<body>

<h1>ğŸ”¢ Sequence Finder</h1>
<p style="opacity:0.8;">Memorize â€¢ Focus â€¢ Recall</p>

<div id="info">
  <div id="progress">Find: 1 / 9</div>
  <div id="timer">â± 0s</div>
</div>

<div id="game"></div>

<!-- ğŸ‰ Result Overlay -->
<div id="overlay">
  <div id="resultBox">
    <h2>ğŸ‰ Sequence Completed!</h2>
    <p id="finalTime"></p>
    <button onclick="replay()">ğŸ” Play Again</button>
  </div>
</div>

<script>
let numbers = [];
let expected = 1;
let time = 0;
let timer;
let lock = false;

const game = document.getElementById("game");

/* ğŸ”¢ INIT */
function initGame() {
  numbers = [...Array(9).keys()].map(i => i + 1);
  numbers.sort(() => Math.random() - 0.5);

  expected = 1;
  time = 0;
  lock = true;

  document.getElementById("progress").innerText = "Memorize...";
  document.getElementById("timer").innerText = "â± 0s";

  render(true);
  startMemorizePhase();
}

/* ğŸ‘ Memorize Phase */
function startMemorizePhase() {
  let count = 3;
  const interval = setInterval(() => {
    document.getElementById("progress").innerText =
      `Memorize... ${count}`;
    count--;

    if (count < 0) {
      clearInterval(interval);
      hideAll();
      startTimer();
      lock = false;
      document.getElementById("progress").innerText =
        "Find: 1 / 9";
    }
  }, 1000);
}

/* ğŸ¨ Render */
function render(showNumbers) {
  game.innerHTML = "";
  numbers.forEach(num => {
    const card = document.createElement("div");
    card.className = "card";
    card.dataset.value = num;
    card.innerText = showNumbers ? num : "?";
    card.onclick = () => handleClick(card);
    game.appendChild(card);
  });
}

function hideAll() {
  document.querySelectorAll(".card").forEach(c => c.innerText = "?");
}

/* â± Timer */
function startTimer() {
  clearInterval(timer);
  timer = setInterval(() => {
    time++;
    document.getElementById("timer").innerText = `â± ${time}s`;
  }, 1000);
}

/* ğŸ‘‰ Click Logic */
function handleClick(card) {
  if (lock || card.classList.contains("open")) return;

  const val = Number(card.dataset.value);
  card.innerText = val;

  if (val === expected) {
    card.classList.add("open");
    expected++;
    document.getElementById("progress").innerText =
      `Find: ${expected} / 9`;

    if (expected === 10) finishGame();
  } else {
    lock = true;
    card.classList.add("wrong");
    game.classList.add("shake");

    setTimeout(() => {
      document.querySelectorAll(".card").forEach(c => {
        c.className = "card";
        c.innerText = "?";
      });
      game.classList.remove("shake");
      expected = 1;
      document.getElementById("progress").innerText =
        "Find: 1 / 9";
      lock = false;
    }, 800);
  }
}

/* ğŸ‰ Finish */
function finishGame() {
  clearInterval(timer);
  document.getElementById("finalTime").innerText =
    `â± Time Taken: ${time} seconds`;
  document.getElementById("overlay").style.display = "flex";
}

/* ğŸ” Replay */
function replay() {
  document.getElementById("overlay").style.display = "none";
  initGame();
}

/* â–¶ Start */
initGame();
</script>

</body>
</html>
