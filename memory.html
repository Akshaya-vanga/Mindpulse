<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Flip | MindPulse</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------- Reset ---------- */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Segoe UI", Arial, sans-serif;
}

/* ---------- Pastel Background ---------- */
body{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:25px 15px;

  background:
    radial-gradient(circle at 20% 30%, #ffd6e0 0%, transparent 45%),
    radial-gradient(circle at 80% 70%, #d0f0fd 0%, transparent 45%),
    radial-gradient(circle at 50% 50%, #ede9fe 0%, transparent 45%),
    linear-gradient(135deg,#f8fafc,#eef2ff);

  color:#2f2f55;
}

/* ---------- Heading ---------- */
h1{
  font-size:32px;
  margin-bottom:6px;
}

#levelText{
  opacity:.7;
  margin-bottom:22px;
}

/* ---------- Game Board ---------- */
#game{
  display:grid;
  gap:16px;
  padding:30px;
  background:rgba(255,255,255,.55);
  border-radius:26px;
  backdrop-filter:blur(14px);
  box-shadow:0 22px 45px rgba(0,0,0,.18);
  justify-content:center;
}

/* ---------- Cards ---------- */
.card{
  width:clamp(68px,18vw,90px);
  height:clamp(68px,18vw,90px);

  display:flex;
  align-items:center;
  justify-content:center;

  font-size:clamp(22px,5vw,30px);
  font-weight:600;

  border-radius:18px;
  cursor:pointer;
  position:relative;
  overflow:hidden;

  background:linear-gradient(145deg,#f8faff,#eef2ff);
  border:1px solid rgba(255,255,255,.6);
  color:#2f2f55;

  box-shadow:
    0 10px 22px rgba(0,0,0,.15),
    inset 0 2px 4px rgba(255,255,255,.8);

  transition:all .25s ease;
}

/* Shine animation */
.card::before{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    120deg,
    transparent,
    rgba(255,255,255,.75),
    transparent
  );
  transform:translateX(-120%);
  transition:transform .6s ease;
}

.card:hover::before{
  transform:translateX(120%);
}

.card:hover{
  transform:translateY(-6px) scale(1.06);
  box-shadow:0 22px 40px rgba(0,0,0,.22);
}

/* Flipped / matched */
.card.flipped,
.card.matched{
  background:linear-gradient(145deg,#bbf7d0,#86efac);
  color:#065f46;
}

/* ---------- Controls ---------- */
#controls{
  margin-top:22px;
}

button{
  padding:10px 22px;
  border:none;
  border-radius:20px;
  cursor:pointer;
  background:linear-gradient(135deg,#6366f1,#a855f7);
  color:#fff;
  margin:6px;
}

/* ---------- Mobile ---------- */
@media(max-width:600px){
  h1{font-size:26px;}
}
</style>
</head>

<body>

<h1>üß† Memory Flip</h1>
<h3 id="levelText"></h3>

<div id="game"></div>

<div id="controls" style="display:none;">
  <button onclick="restart()">üîÅ Replay</button>
  <button onclick="nextLevel()">‚û° Next Level</button>
</div>

<script>
let level = 1, first=null, lock=false, matched=0;

const levels = {
  1:{r:2,c:2},
  2:{r:2,c:3},
  3:{r:4,c:4}
};

const symbols = [
  "1","2","3","4","5","6","7","8","9",
  "üî•","üéØ","‚≠ê","‚ù§Ô∏è","üòé","üê∂","üçé","üéµ","üöÄ","‚öΩ"
];

function startGame(){
  const {r,c}=levels[level];
  const pairs=(r*c)/2;

  matched=0;
  first=null;
  lock=false;

  document.getElementById("controls").style.display="none";
  document.getElementById("levelText").innerText =
    `Level ${level} (${r} √ó ${c})`;

  let pool=[...symbols].sort(()=>Math.random()-0.5);
  let values=[];
  for(let i=0;i<pairs;i++) values.push(pool[i],pool[i]);
  values.sort(()=>Math.random()-0.5);

  const game=document.getElementById("game");
  game.innerHTML="";
  game.style.gridTemplateColumns=`repeat(${c},1fr)`;

  values.forEach(v=>{
    const card=document.createElement("div");
    card.className="card";
    card.dataset.value=v;
    card.innerText="?";
    card.onclick=()=>flip(card);
    game.appendChild(card);
  });
}

function flip(card){
  if(lock||card.classList.contains("flipped")) return;

  card.classList.add("flipped");
  card.innerText=card.dataset.value;

  if(!first){
    first=card;
    return;
  }

  if(first.dataset.value===card.dataset.value){
    first.classList.add("matched");
    card.classList.add("matched");
    matched+=2;
    first=null;

    if(matched===document.querySelectorAll(".card").length){
      document.getElementById("controls").style.display="block";

      // If last level, change button text
      if(level === 3){
        document.querySelector("#controls button:last-child")
          .innerText = "üéâ Completed";
      }
    }
  } else {
    lock=true;
    setTimeout(()=>{
      first.classList.remove("flipped");
      card.classList.remove("flipped");
      first.innerText="?";
      card.innerText="?";
      first=null;
      lock=false;
    },700);
  }
}

function restart(){
  startGame();
}

function nextLevel(){
  if(level < 3){
    level++;
    startGame();
  } else {
    document.getElementById("controls").innerHTML =
      "<p>üéâ All levels completed! Great job!</p>";
  }
}

startGame();
</script>

</body>
</html>